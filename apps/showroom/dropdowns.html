<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VDS 3.0 Component Gallery - Dropdowns</title>
    <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link rel="stylesheet" href="showroom.css">
    <script src="assets/js/icons.js"></script>
    <style>
        /* Custom styles for dropdown preview if needed */
        .dropdown {
            width: 100%;
            max-width: 320px;
        }
    </style>
</head>

<body>
    <header class="showroom-header">
        <div class="header-left">
            <span class="logo">VDS 3.0 Gallery</span>
        </div>
        <div class="header-right">
            <button id="theme-toggle" class="btn-theme-toggle" title="ÌÖåÎßà Ï†ÑÌôò">üåì</button>
        </div>
    </header>

    <div class="app-container">
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <div class="sidebar-title">Components</div>
                <ul class="sidebar-menu">
                    <li><a href="buttons.html" class="sidebar-link">Buttons</a></li>
                    <li><a href="icon-buttons.html" class="sidebar-link">Icon Buttons</a></li>
                    <li><a href="input-fields.html" class="sidebar-link">Input Fields</a></li>
                    <li><a href="textarea.html" class="sidebar-link">Textarea</a></li>
                    <li><a href="dropdowns.html" class="sidebar-link active">Dropdowns</a></li>
                    <li><a href="menus.html" class="sidebar-link">Menus</a></li>
                    <li><a href="tabs.html" class="sidebar-link">Tabs</a></li>
                    <li><a href="segmented-controls.html" class="sidebar-link">SegmentedControl</a></li>
                    <li><a href="chips.html" class="sidebar-link">Chips</a></li>
                    <li><a href="toasts.html" class="sidebar-link">Toasts</a></li>
                    <li><a href="tooltips.html" class="sidebar-link">Tooltips</a></li>
                    <li><a href="switches.html" class="sidebar-link">Switches</a></li>
                </ul>
            </nav>
        </aside>

        <main class="showroom-main">
            <section class="component-section playground-section">
                <h2 class="section-title">Interactive Playground</h2>
                <p class="section-desc">Îã§ÏñëÌïú ÏòµÏÖòÏùÑ Ï°∞Ìï©ÌïòÏó¨ ÎìúÎ°≠Îã§Ïö¥ÏùÑ ÌÖåÏä§Ìä∏Ìï¥Î≥¥ÏÑ∏Ïöî.</p>

                <div class="playground-container">
                    <div class="preview-area">
                        <div class="preview-canvas">
                            <div id="playground-dropdown-container">
                                <!-- Dropdown Preview will be rendered here -->
                            </div>
                        </div>
                    </div>
                    <div class="controls-area">
                        <div class="control-group">
                            <label class="control-label">Size</label>
                            <div class="toggle-group" id="size-toggles">
                                <button class="toggle-btn active" data-value="dropdown--large">L (48)</button>
                                <button class="toggle-btn" data-value="dropdown--medium">M (40)</button>
                                <button class="toggle-btn" data-value="dropdown--small">S (32)</button>
                            </div>
                        </div>

                        <div class="control-group">
                            <label class="control-label">Status</label>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="radio" name="dropdown-status" value="normal" id="state-normal" checked> Normal
                                </label>
                                <label class="checkbox-label">
                                    <input type="radio" name="dropdown-status" value="disabled" id="state-disabled"> Disabled
                                </label>
                                <label class="checkbox-label">
                                    <input type="radio" name="dropdown-status" value="negative" id="state-negative"> Negative (Error)
                                </label>
                                <label class="checkbox-label">
                                    <input type="radio" name="dropdown-status" value="filtered" id="state-filtered"> Filtered
                                </label>
                            </div>
                        </div>

                        <div class="control-group">
                            <label class="control-label">Options</label>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="opt-icon"> Leading Icon
                                </label>
                            </div>
                        </div>

                        <div class="control-group">
                            <label class="control-label">Content</label>
                            <div style="display: flex; flex-direction: column; gap: 8px;">
                                <input type="text" id="input-label" class="control-select" placeholder="Label Text"
                                    value="Select an option" style="padding: 8px;">
                                <input type="text" id="input-caption" class="control-select" placeholder="Caption Text"
                                    value="Caption" style="padding: 8px;">
                                <input type="text" id="input-helper" class="control-select" placeholder="Helper Text"
                                    value="Helper text goes here" style="padding: 8px;">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="code-viewer">
                    <pre><code id="generated-code"></code></pre>
                    <button class="copy-btn" id="copy-code-btn" title="Copy Code">
                        <div data-icon="ic_copy"></div>
                    </button>
                </div>
            </section>

            <section class="component-section" id="all-variants">
                <h2 class="section-title">Dropdown Components</h2>
                <p class="section-desc">VDSÏùò ÎìúÎ°≠Îã§Ïö¥ Ïª¥Ìè¨ÎÑåÌä∏ ÏãúÏä§ÌÖúÏûÖÎãàÎã§.</p>

                <div class="gallery-grid"
                    style="display: grid; grid-template-columns: 100px 1fr 1fr 1fr; gap: 40px; align-items: start;">
                    <!-- Header -->
                    <div></div>
                    <div class="grid-header">Large (48px)</div>
                    <div class="grid-header">Medium (40px)</div>
                    <div class="grid-header">Small (32px)</div>

                    <!-- Normal State -->
                    <div class="grid-side-label">Normal</div>
                    <!-- Large -->
                    <div class="dropdown dropdown--large">
                        <div class="dropdown__trigger">
                            <span class="dropdown__label">Select an option</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow"></div>
                        </div>
                        <p class="dropdown__helper-text">Helper text</p>
                    </div>
                    <!-- Medium -->
                    <div class="dropdown dropdown--medium">
                        <div class="dropdown__trigger">
                            <span class="dropdown__label">Select an option</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow"></div>
                        </div>
                        <p class="dropdown__helper-text">Helper text</p>
                    </div>
                    <!-- Small -->
                    <div class="dropdown dropdown--small">
                        <div class="dropdown__trigger">
                            <span class="dropdown__label">Select an option</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow"></div>
                        </div>
                        <p class="dropdown__helper-text">Helper text</p>
                    </div>

                    <!-- Negative (Error) State -->
                    <div class="grid-side-label">Negative</div>
                    <!-- Large -->
                    <div class="dropdown dropdown--large dropdown--negative">
                        <div class="dropdown__trigger">
                            <span class="dropdown__label">Error State</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow"></div>
                        </div>
                        <p class="dropdown__helper-text">Error message</p>
                    </div>
                    <!-- Medium -->
                    <div class="dropdown dropdown--medium dropdown--negative">
                        <div class="dropdown__trigger">
                            <span class="dropdown__label">Error State</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow"></div>
                        </div>
                        <p class="dropdown__helper-text">Error message</p>
                    </div>
                    <!-- Small -->
                    <div class="dropdown dropdown--small dropdown--negative">
                        <div class="dropdown__trigger">
                            <span class="dropdown__label">Error State</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow"></div>
                        </div>
                        <p class="dropdown__helper-text">Error message</p>
                    </div>

                    <!-- Filtered State -->
                    <div class="grid-side-label">Filtered</div>
                    <!-- Large -->
                    <div class="dropdown dropdown--large dropdown--filtered">
                        <div class="dropdown__trigger">
                            <div class="dropdown__leading-icon" data-icon="ic_filter"></div>
                            <span class="dropdown__label">Filtered Option</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow"></div>
                        </div>
                        <p class="dropdown__helper-text">Filtered state</p>
                    </div>
                    <!-- Medium -->
                    <div class="dropdown dropdown--medium dropdown--filtered">
                        <div class="dropdown__trigger">
                            <div class="dropdown__leading-icon" data-icon="ic_filter"></div>
                            <span class="dropdown__label">Filtered Option</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow"></div>
                        </div>
                        <p class="dropdown__helper-text">Filtered state</p>
                    </div>
                    <!-- Small -->
                    <div class="dropdown dropdown--small dropdown--filtered">
                        <div class="dropdown__trigger">
                            <div class="dropdown__leading-icon" data-icon="ic_filter"></div>
                            <span class="dropdown__label">Filtered Option</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow"></div>
                        </div>
                        <p class="dropdown__helper-text">Filtered state</p>
                    </div>

                    <!-- Disabled State -->
                    <div class="grid-side-label">Disabled</div>
                    <!-- Large -->
                    <div class="dropdown dropdown--large">
                        <div class="dropdown__trigger" disabled>
                            <span class="dropdown__label">Disabled Dropdown</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow"></div>
                        </div>
                        <p class="dropdown__helper-text">Helper text</p>
                    </div>
                    <!-- Medium -->
                    <div class="dropdown dropdown--medium">
                        <div class="dropdown__trigger" disabled>
                            <span class="dropdown__label">Disabled Dropdown</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow"></div>
                        </div>
                        <p class="dropdown__helper-text">Helper text</p>
                    </div>
                    <!-- Small -->
                    <div class="dropdown dropdown--small">
                        <div class="dropdown__trigger" disabled>
                            <span class="dropdown__label">Disabled Dropdown</span>
                            <span class="dropdown__caption">Caption</span>
                            <div class="dropdown__arrow">
                                <svg viewBox="0 0 24 24" fill="none">
                                    <path
                                        d="M18.2931 8.29289C18.6837 7.90237 19.3167 7.90237 19.7072 8.29289C20.0976 8.68343 20.0977 9.31648 19.7072 9.70696L12.7072 16.707C12.3167 17.0974 11.6837 17.0973 11.2931 16.707L4.29314 9.70696C3.90261 9.31643 3.90261 8.68342 4.29314 8.29289C4.68366 7.90237 5.31668 7.90237 5.7072 8.29289L12.0002 14.5859L18.2931 8.29289Z"
                                        fill="currentColor" />
                                </svg>
                            </div>
                        </div>
                        <p class="dropdown__helper-text">Helper text</p>
                    </div>

                </div>
            </section>
        </main>
    </div>

    <script src="assets/js/theme.js"></script>
    <script src="assets/js/dropdown.js"></script>
    <script>
        // Playground Logic
        function initPlayground() {
            const container = document.getElementById('playground-dropdown-container');

            const sizeToggles = document.getElementById('size-toggles');
            const statusRadios = document.querySelectorAll('input[name="dropdown-status"]');

            const optIcon = document.getElementById('opt-icon');

            const inputLabel = document.getElementById('input-label');
            const inputCaption = document.getElementById('input-caption');
            const inputHelper = document.getElementById('input-helper');

            const generatedCode = document.getElementById('generated-code');
            const copyBtn = document.getElementById('copy-code-btn');

            let state = {
                size: 'dropdown--large',
                disabled: false,
                negative: false,
                filtered: false,
                icon: false,
                label: 'Select an option',
                caption: 'Caption',
                helper: 'Helper text goes here'
            };

            function updateUI() {
                // Determine classes
                let classes = `dropdown ${state.size}`;
                if (state.negative) classes += ' dropdown--negative';
                if (state.filtered) classes += ' dropdown--filtered';
                // disabled attribute is handled in HTML string

                // HTML Structure Construction
                let innerHTML = `<div class="${classes}">`;
                innerHTML += `<div class="dropdown__trigger"${state.disabled ? ' disabled' : ''}>`;

                if (state.icon) {
                    innerHTML += `<div class="dropdown__leading-icon" data-icon="ic_search"></div>`;
                }

                innerHTML += `<span class="dropdown__label">${state.label}</span>`;
                innerHTML += `<span class="dropdown__caption">${state.caption}</span>`;

                innerHTML += `<div class="dropdown__arrow"></div>`;

                innerHTML += `</div>`; // Close trigger

                // Menu (optional, just for visual completeness in playground, maybe hidden initially)
                // For playground, let's keep it simple or add a dummy menu
                innerHTML += `
                    <div class="menu">
                        <div class="menu__item"><span class="menu__text">Option 1</span><div class="menu__selected-check"></div></div>
                        <div class="menu__item"><span class="menu__text">Option 2</span><div class="menu__selected-check"></div></div>
                    </div>`;

                innerHTML += `<p class="dropdown__helper-text">${state.helper}</p>`;
                innerHTML += `</div>`; // Close dropdown

                container.innerHTML = innerHTML;
                if (window.initializeDataIcons) initializeDataIcons(container);

                // Code Generation
                let code = `<div class="${classes}">\n`;
                code += `    <div class="dropdown__trigger"${state.disabled ? ' disabled' : ''}>\n`;
                if (state.icon) {
                    code += `        <div class="dropdown__leading-icon">\n`;
                    code += `            <!-- Icon SVG -->\n`;
                    code += `        </div>\n`;
                }
                code += `        <span class="dropdown__label">${state.label}</span>\n`;
                code += `        <span class="dropdown__caption">${state.caption}</span>\n`;
                code += `        <div class="dropdown__arrow">\n`;
                code += `            <!-- Arrow SVG -->\n`;
                code += `        </div>\n`;
                code += `    </div>\n`;
                code += `    <div class="menu">\n`;
                code += `        <!-- Menu Items -->\n`;
                code += `    </div>\n`;
                code += `    <p class="dropdown__helper-text">${state.helper}</p>\n`;
                code += `</div>`;

                generatedCode.innerText = code;
            }

            sizeToggles.addEventListener('click', (e) => {
                if (e.target.classList.contains('toggle-btn')) {
                    sizeToggles.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    state.size = e.target.dataset.value;
                    updateUI();
                }
            });

            statusRadios.forEach(radio => {
                radio.addEventListener('change', (e) => {
                    if (e.target.checked) {
                        state.disabled = e.target.value === 'disabled';
                        state.negative = e.target.value === 'negative';
                        state.filtered = e.target.value === 'filtered';
                        updateUI();
                    }
                });
            });

            optIcon.addEventListener('change', (e) => {
                state.icon = e.target.checked;
                updateUI();
            });

            inputLabel.addEventListener('input', (e) => {
                state.label = e.target.value;
                updateUI();
            });

            inputCaption.addEventListener('input', (e) => {
                state.caption = e.target.value;
                updateUI();
            });

            inputHelper.addEventListener('input', (e) => {
                state.helper = e.target.value;
                updateUI();
            });

            copyBtn.addEventListener('click', () => {
                navigator.clipboard.writeText(generatedCode.innerText).then(() => {
                    const originalHTML = copyBtn.innerHTML;
                    copyBtn.innerHTML = `<div data-icon="ic_check"></div>`;
                    if (window.initializeDataIcons) initializeDataIcons(copyBtn);
                    setTimeout(() => {
                        copyBtn.innerHTML = originalHTML;
                        if (window.initializeDataIcons) initializeDataIcons(copyBtn);
                    }, 1500);
                });
            });

            updateUI();
        }

        document.addEventListener('DOMContentLoaded', () => {
            initPlayground();
            initializeDataIcons();
        });
    </script>
</body>

</html>