<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VDS 3.0 Component Gallery - SegmentedControl</title>
    <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link rel="stylesheet" href="showroom.css">
    <style>
        .preview-wrapper {
            display: flex;
            flex-direction: column;
            gap: 40px;
            width: 100%;
        }

        .preview-case {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .preview-label {
            font-size: 12px;
            font-weight: 400;
            color: var(--label-quaternary);
            text-transform: uppercase;
        }

        /* í”Œë ˆì´ê·¸ë¼ìš´ë“œ ì „ìš© ìŠ¤íƒ€ì¼ */
        .preview-area {
            transition: background-color 0.2s ease;
            position: relative;
        }

        .preview-area.bg-surface {
            background-color: var(--fill-surface-primary);
        }

        .preview-area.bg-grey {
            background-color: var(--refine-senary);
        }

        .label-input-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 8px;
        }

        .label-input-row {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .label-input {
            flex: 1;
            padding: 6px 10px;
            border-radius: 6px;
            border: 1px solid var(--line-secondary);
            background: var(--fill-surface-primary);
            color: var(--label-primary);
            font-size: 13px;
        }

        .label-input:focus {
            outline: none;
            border-color: var(--line-accent);
        }

        .item-count-control {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .count-btn {
            width: 28px;
            height: 28px;
            border-radius: 4px;
            border: 1px solid var(--line-secondary);
            background: var(--fill-surface-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: var(--label-primary);
        }

        .count-btn:hover {
            background: var(--refine-senary);
        }
    </style>
</head>

<body>
    <header class="showroom-header">
        <div class="header-left">
            <span class="logo">VDS 3.0 Gallery</span>
        </div>
        <div class="header-right">
            <button id="theme-toggle" class="btn-theme-toggle" title="í…Œë§ˆ ì „í™˜">ğŸŒ“</button>
        </div>
    </header>

    <div class="app-container">
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <div class="sidebar-title">Components</div>
                <ul class="sidebar-menu">
                    <li><a href="buttons.html" class="sidebar-link">Buttons</a></li>
                    <li><a href="icon-buttons.html" class="sidebar-link">Icon Buttons</a></li>
                    <li><a href="input-fields.html" class="sidebar-link">Input Fields</a></li>
                    <li><a href="dropdowns.html" class="sidebar-link">Dropdowns</a></li>
                    <li><a href="menus.html" class="sidebar-link">Menus</a></li>
                    <li><a href="tabs.html" class="sidebar-link">Tabs</a></li>
                    <li><a href="segmented-controls.html" class="sidebar-link active">SegmentedControl</a></li>
                </ul>
            </nav>
        </aside>

        <main class="showroom-main">
            <section class="component-section">
                <h1 class="section-title">SegmentedControl</h1>
                <p class="section-desc">ì—¬ëŸ¬ ì˜µì…˜ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. íƒ­ë³´ë‹¤ ì»´íŒ©íŠ¸í•˜ë©° ë²„íŠ¼ ê·¸ë£¹ í˜•íƒœì˜ UIë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
            </section>

            <section class="component-section">
                <h2 class="section-title">Interactive Playground</h2>
                <div class="playground-container">
                    <div class="preview-area" id="playground-preview">
                        <div id="playground-target">
                            <!-- JSì— ì˜í•´ ë Œë”ë§ë¨ -->
                        </div>
                    </div>
                    <div class="controls-area">
                        <div class="control-group">
                            <label class="control-label">Size</label>
                            <div class="toggle-group" id="size-toggles">
                                <button class="toggle-btn active" data-value="segmented-control--medium">Medium</button>
                                <button class="toggle-btn" data-value="segmented-control--small">Small</button>
                            </div>
                        </div>

                        <div class="control-group">
                            <label class="control-label">Preview Background</label>
                            <div class="toggle-group" id="bg-toggles">
                                <button class="toggle-btn active" data-value="bg-surface">Surface</button>
                                <button class="toggle-btn" data-value="bg-grey">Grey (Contrast)</button>
                            </div>
                        </div>

                        <div class="control-group">
                            <label class="control-label">Items Configuration</label>
                            <div class="item-count-control">
                                <button class="count-btn" id="decrease-items">âˆ’</button>
                                <span id="current-count"
                                    style="min-width: 20px; text-align: center; font-weight: 600;">3</span>
                                <button class="count-btn" id="increase-items">+</button>
                            </div>
                            <div id="label-inputs" class="label-input-container">
                                <!-- JSì— ì˜í•´ ì…ë ¥ í•„ë“œ ìƒì„± -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="code-viewer">
                    <pre><code id="generated-code"></code></pre>
                    <button class="copy-btn" id="copy-code">ğŸ“‹</button>
                </div>
            </section>

            <section class="component-section">
                <h2 class="section-title">Gallery</h2>
                <div class="preview-wrapper">
                    <div class="preview-case">
                        <span class="preview-label">Medium</span>
                        <div class="segmented-control segmented-control--medium">
                            <div class="segmented-control__item segmented-control__item--active">Label</div>
                            <div class="segmented-control__item">Label</div>
                            <div class="segmented-control__item">Label</div>
                        </div>
                    </div>
                    <div class="preview-case">
                        <span class="preview-label">Small</span>
                        <div class="segmented-control segmented-control--small">
                            <div class="segmented-control__item segmented-control__item--active">Label</div>
                            <div class="segmented-control__item">Label</div>
                            <div class="segmented-control__item">Label</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        const state = {
            size: 'segmented-control--medium',
            bg: 'bg-surface',
            items: ['Label 1', 'Label 2', 'Label 3'],
            activeIndex: 0
        };

        function renderPlayground() {
            // ë°°ê²½ ì—…ë°ì´íŠ¸
            const previewArea = document.getElementById('playground-preview');
            previewArea.className = `preview-area ${state.bg}`;

            // ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
            const container = document.getElementById('playground-target');
            const control = document.createElement('div');
            control.className = `segmented-control ${state.size}`;

            state.items.forEach((label, index) => {
                const item = document.createElement('div');
                item.className = `segmented-control__item ${index === state.activeIndex ? 'segmented-control__item--active' : ''}`;
                item.textContent = label;
                item.onclick = () => {
                    state.activeIndex = index;
                    renderPlayground();
                };
                control.appendChild(item);
            });

            container.innerHTML = '';
            container.appendChild(control);
            updateCode();
            renderLabelInputs();
        }

        function renderLabelInputs() {
            const container = document.getElementById('label-inputs');
            if (container.children.length === state.items.length) return; // ìµœì í™”: ê°œìˆ˜ ê°™ìœ¼ë©´ íŒ¨ìŠ¤

            container.innerHTML = '';
            state.items.forEach((label, index) => {
                const row = document.createElement('div');
                row.className = 'label-input-row';

                const input = document.createElement('input');
                input.className = 'label-input';
                input.value = label;
                input.placeholder = `Item ${index + 1}`;
                input.oninput = (e) => {
                    state.items[index] = e.target.value;
                    renderPlayground();
                };

                row.appendChild(input);
                container.appendChild(row);
            });
            document.getElementById('current-count').textContent = state.items.length;
        }

        function updateCode() {
            const itemsHtml = state.items.map((label, index) =>
                `    <div class="segmented-control__item${index === state.activeIndex ? ' segmented-control__item--active' : ''}">${label || 'Label'}</div>`
            ).join('\n');
            const code = `<div class="segmented-control ${state.size}">\n${itemsHtml}\n</div>`;
            document.getElementById('generated-code').textContent = code;
        }

        // ì´ˆê¸°í™” ë° ì´ë²¤íŠ¸ ë°”ì¸ë”©
        document.querySelectorAll('#size-toggles .toggle-btn').forEach(btn => {
            btn.onclick = () => {
                document.querySelectorAll('#size-toggles .toggle-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                state.size = btn.dataset.value;
                renderPlayground();
            };
        });

        document.querySelectorAll('#bg-toggles .toggle-btn').forEach(btn => {
            btn.onclick = () => {
                document.querySelectorAll('#bg-toggles .toggle-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                state.bg = btn.dataset.value;
                renderPlayground();
            };
        });

        document.getElementById('increase-items').onclick = () => {
            if (state.items.length < 6) {
                state.items.push(`Label ${state.items.length + 1}`);
                renderPlayground();
            }
        };

        document.getElementById('decrease-items').onclick = () => {
            if (state.items.length > 2) {
                state.items.pop();
                if (state.activeIndex >= state.items.length) state.activeIndex = state.items.length - 1;
                renderPlayground();
            }
        };

        document.getElementById('copy-code').onclick = () => {
            const code = document.getElementById('generated-code').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = document.getElementById('copy-code');
                const originalText = btn.textContent;
                btn.textContent = 'âœ…';
                setTimeout(() => btn.textContent = originalText, 2000);
            });
        };

        // í…Œë§ˆ í† ê¸€
        document.getElementById('theme-toggle').onclick = () => {
            const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', theme);
        };

        renderPlayground();
    </script>
</body>

</html>