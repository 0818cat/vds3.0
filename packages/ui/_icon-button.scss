@use "sass:map";

// 아이콘 버튼 스타일
// 모든 사이즈 및 형태 정책은 $icon-btn-sizes 맵에서 중앙 관리됩니다.

// 아이콘 버튼 사이즈 및 radius 토큰 정의
$icon-btn-sizes: (
    large: (btn: 48px,
        icon: 24px,
        radius: var(--radius-8) ),
    medium: (btn: 40px,
        icon: 20px,
        radius: var(--radius-8) ),
    small: (btn: 32px,
        icon: 16px,
        radius: var(--radius-6) )
);

.btn.btn--icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    box-sizing: border-box;
    flex: 0 0 auto;
    align-self: center;
    min-width: 0;

    // 키보드 접근성 (Keyboard Accessibility)
    &:focus-visible {
        outline: 2px solid var(--line-accent);
        outline-offset: 2px;
    }

    // 사이즈별 스타일 생성 (Decorative Architecture)
    @each $size, $values in $icon-btn-sizes {
        &.btn--#{$size} {
            width: map.get($values, btn);
            height: map.get($values, btn);
            border-radius: map.get($values, radius);

            svg,
            [data-icon],
            .btn__loading-animation {
                width: map.get($values, icon);
                height: map.get($values, icon);
                display: flex;
                align-items: center;
                justify-content: center;
            }
        }
    }

    // 원형 버튼 모드 (Round Modifier / Override)
    // 사이즈별 radius 설정을 덮어쓰기 위해 최하단에 배치합니다.
    &.btn--round {
        border-radius: 50%;
    }
}